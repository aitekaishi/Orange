(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/buy-yanfang/buy-yanfang"],{"21ba":function(t,e,a){"use strict";a("f4e5");var n=i(a("b0ce")),s=i(a("9bf9"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(s.default))},3301:function(t,e,a){"use strict";var n=a("b3fe"),s=a.n(n);s.a},"6f9c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"order-cotainb"},[a("view",{staticClass:"none"}),a("view",{staticClass:"xsdsdsd radio-one"},[t._v(t._s(t.address))]),a("view",{staticClass:"none"}),a("view",{staticClass:"radio radio-one"},[t._m(0),a("view",{staticStyle:{height:"20rpx"}}),a("view",{staticClass:"radion-contain",attrs:{eventid:"04b8f408-0"},on:{click:function(e){t.xuan(1)}}},[a("view",{staticClass:"radio-name top"},[t._v("毛坯房验房")]),a("view",{staticClass:"radio-contain-rl"},[a("view",{staticClass:"radio-name radio-rl"},[t._v("299元/次")]),a("view",{staticClass:"radio-image"},[a("image",{class:t.xuan1?"":"disnone",attrs:{src:"../../static/img/order/icon_gx@2x.png",mode:"widthFix"}}),a("image",{class:t.xuan1?"disnone":"",attrs:{src:"../../static/img/order/icon_fgx@2x.png",mode:"widthFix"}})])])]),a("view",{staticClass:"radion-contain",attrs:{eventid:"04b8f408-1"},on:{click:function(e){t.xuan(2)}}},[a("view",{staticClass:"radio-name top"},[t._v("精装房验房")]),a("view",{staticClass:"radio-contain-rl"},[a("view",{staticClass:"radio-name radio-rl"},[t._v("399元/次")]),a("view",{staticClass:"radio-image"},[a("image",{class:t.xuan2?"":"disnone",attrs:{src:"../../static/img/order/icon_gx@2x.png",mode:"widthFix"}}),a("image",{class:t.xuan2?"disnone":"",attrs:{src:"../../static/img/order/icon_fgx@2x.png",mode:"widthFix"}})])])])]),a("view",{staticClass:"none"}),a("view",{staticClass:"bottom"},[a("view",{staticClass:"bottom-one"},[a("text",{staticClass:"bottom-one-title"},[t._v("合计：")]),a("text",{staticClass:"bottom-one-titlea"},[t._v("￥"+t._s(t.tatol))])]),a("button",{staticClass:"bottom-two",class:t.disabled?"true":"false",attrs:{eventid:"04b8f408-2"},on:{click:t.submit}},[t._v("提交订单")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"radion-contain"},[a("view",{staticClass:"radio-namea top"},[t._v("验房服务")])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s})},"9bf9":function(t,e,a){"use strict";a.r(e);var n=a("6f9c"),s=a("f6a5");for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);a("3301");var o=a("2877"),r=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"8b54a90e",null);e["default"]=r.exports},a4e4:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("3e50"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,a):{};n.get||n.set?Object.defineProperty(e,a,n):e[a]=t[a]}return e.default=t,e}var i={data:function(){return{address:"",xuan1:!1,xuan2:!1,tatol:"0",disabled:!1,area:"",city:"",name:"",phone:"",server:[]}},methods:{xuan:function(t){1==t&&(0==this.xuan1?(this.xuan1=!0,this.xuan2=!1):this.xuan1=!1),2==t&&(0==this.xuan2?(this.xuan2=!0,this.xuan1=!1):this.xuan2=!1)},submit:function(){1==this.xuan1&&1==this.xuan2?this.server=[{id:9,name:"毛坯房验房"},{id:10,name:"精装房验房"}]:1==this.xuan1&&1!=this.xuan2?this.server=[{id:9,name:"毛坯房验房"}]:1!=this.xuan1&&1==this.xuan2&&(this.server=[{id:10,name:"精装房验房"}]);var e=this;1==e.disabled&&(t.showLoading({title:"提交中"}),t.removeStorageSync("fuqian"),n.Cloud.run("wxOrder",{productDescription:"佰橙科技-装修监理费",amount:100*e.tatol}).then(function(a){console.log(a),t.setStorageSync("fuqian",1),a.success=function(){var a=n.Object.extend("Order"),s=new a;s.set("user",n.User.current()),s.set("city",e.city),s.set("name",e.name),s.set("mobilePhoneNumber",e.phone),s.set("area",parseFloat(e.area)),s.set("status","已支付"),s.set("total",e.tatol),s.set("serviceType","验房服务"),s.set("server",e.server),s.set("servicePrice",0),s.set("address",e.address),s.set("serviceId",8),s.set("insuranceType",t.getStorageSync("insuranceType")),s.set("insurancePrice",t.getStorageSync("safe")),s.set("insuranceId",t.getStorageSync("insuranceId")),s.save().then(function(e){t.hideLoading(),t.showToast({title:"支付成功",duration:1e3}),setTimeout(function(){t.navigateTo({url:"../order-from/order-from"})},1e3)},function(e){t.hideLoading(),console.log(e)})},a.fail=function(a){a.errMsg;console.log(t.getStorageSync("jianli").city);var s=n.Object.extend("Order"),i=new s;i.set("user",n.User.current()),i.set("city",e.city),i.set("name",e.name),i.set("mobilePhoneNumber",e.phone),i.set("area",parseFloat(e.area)),i.set("status","待支付"),i.set("total",e.tatol),i.set("serviceType","验房服务"),i.set("server",e.server),i.set("servicePrice",0),i.set("address",e.address),i.set("serviceId",8),i.set("insuranceType",t.getStorageSync("insuranceType")),i.set("insurancePrice",t.getStorageSync("safe")),i.set("insuranceId",t.getStorageSync("insuranceId")),i.save().then(function(e){t.hideLoading(),t.showToast({title:"支付取消，请去我的订单查看",duration:1e3,icon:"none"}),setTimeout(function(){t.navigateTo({url:"../order-from/order-from"})},1e3)},function(e){t.hideLoading(),console.log(e)})},t.requestPayment(a)}).catch(function(t){console.log(t)}))}},updated:function(){Number(this.xuan1).toString()+Number(this.xuan2).toString()=="11"?(console.log("1"),this.disabled=!0,this.tatol=698):Number(this.xuan1).toString()+Number(this.xuan2).toString()=="10"?(console.log("2"),this.disabled=!0,this.tatol=299):Number(this.xuan1).toString()+Number(this.xuan2).toString()=="01"?(console.log("3"),this.disabled=!0,this.tatol=399):(console.log("4"),this.tatol=0,this.disabled=!1)},created:function(){console.log(t.getStorageSync("jianli").city),console.log(t.getStorageSync("jianli")),this.address=t.getStorageSync("jianli").address,this.city=t.getStorageSync("jianli").city,this.name=t.getStorageSync("jianli").name,this.area=t.getStorageSync("jianli").area,this.phone=t.getStorageSync("jianli").phone.toString(),this.tatol=0,t.setStorageSync("insuranceType",""),t.setStorageSync("insuranceId",0),t.setStorageSync("safe",0),t.setStorageSync("jianlia",this.tatol)}};e.default=i}).call(this,a("543d")["default"])},b3fe:function(t,e,a){},f6a5:function(t,e,a){"use strict";a.r(e);var n=a("a4e4"),s=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e["default"]=s.a}},[["21ba","common/runtime","common/vendor"]]]);